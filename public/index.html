<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Workout Tracker</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app-shell">
    <header class="app-header">
      <div>
        <p class="eyebrow">Workout App</p>
        <h1>Weekly Weight + Workout Tracker</h1>
        <p class="lede">Set a weekly goal every Sunday, track bodyweight, and check off simple body-weight moves.</p>
      </div>
      <button id="open-settings" class="ghost-btn">Update week settings</button>
    </header>

    <nav class="tabs">
      <button class="tab active" data-tab="week-view">This Week</button>
      <button class="tab" data-tab="history-view">History</button>
    </nav>

    <main>
      <section id="week-view" class="tab-panel active">
        <div class="grid">
          <article class="card">
            <header class="card-header">
              <div>
                <p class="eyebrow">Current week</p>
                <h2 id="week-range">—</h2>
              </div>
              <div class="pill" id="weight-pill">Weight: —</div>
            </header>
            <div class="progress-row">
              <div>
                <p class="metric-label">Workouts completed</p>
                <div class="metric" id="completed-count">0</div>
              </div>
              <div>
                <p class="metric-label">Weekly goal</p>
                <div class="metric" id="goal-count">0</div>
              </div>
              <div>
                <p class="metric-label">Miles this week</p>
                <div class="metric" id="miles-this-week">0</div>
              </div>
              <div class="progress">
                <div class="progress-bar" id="progress-bar"></div>
              </div>
            </div>
            <div class="actions">
              <button id="reset-week" class="ghost-btn">Reset this week</button>
            </div>
          </article>

          <article class="card side-card">
            <header class="card-header">
              <div>
                <p class="eyebrow">Cardio</p>
                <h3>Walk/Run</h3>
              </div>
              <div class="pill">Today: <span id="miles-today">0</span> mi</div>
            </header>
            <div class="cardio-form">
              <label>
                Miles today
                <input type="number" id="cardio-input" step="0.1" min="0" placeholder="e.g. 2.5">
              </label>
              <button id="log-cardio" class="primary-btn">Log miles</button>
              <p class="muted">Adds to this week's total and today's entry.</p>
            </div>
          </article>

          <article class="card wide">
            <header class="card-header">
              <div>
                <p class="eyebrow">Body-weight moves</p>
                <h3>Tap to log sets x reps</h3>
              </div>
              <button id="clear-exercises" class="text-btn">Clear today</button>
            </header>
            <div class="exercise-grid" id="exercise-grid"></div>
          </article>

          <article class="card wide">
            <header class="card-header">
              <div>
                <p class="eyebrow">Today</p>
                <h3>Logged activity</h3>
              </div>
              <p class="muted">Auto-adds to weekly totals</p>
            </header>
            <div id="today-log" class="today-log"></div>
          </article>
        </div>
      </section>

      <section id="history-view" class="tab-panel">
        <article class="card wide">
          <header class="card-header">
            <div>
              <p class="eyebrow">History</p>
              <h3>Week by week</h3>
            </div>
            <p class="muted">Latest first</p>
          </header>
          <div class="history-table">
            <div class="history-row head">
              <span>Week</span>
              <span>Completed / Goal</span>
              <span>Weight</span>
              <span>Miles</span>
            </div>
            <div id="history-rows"></div>
          </div>
          <div class="api-note">
            <strong>Trend API:</strong> call <code>window.trendAPI.getSeries()</code> for a mini graph feed of weight + completion history.
          </div>
        </article>
      </section>
    </main>
  </div>

  <div class="modal-backdrop" id="modal">
    <div class="modal">
      <h3>New week check-in</h3>
      <p class="muted">Sundays will ask for your plan and weight. Update anytime.</p>
      <form id="week-form">
        <label>
          Weekly workout goal
          <input type="number" id="goal-input" min="1" max="14" required>
        </label>
        <label>
          Current weight
          <input type="number" id="weight-input" step="0.1" min="50" max="800" required>
        </label>
        <div class="modal-actions">
          <button type="button" class="ghost-btn" id="cancel-modal">Cancel</button>
          <button type="submit" class="primary-btn">Save week</button>
        </div>
      </form>
    </div>
  </div>

  <div class="modal-backdrop" id="log-modal">
    <div class="modal">
      <h3 id="log-modal-title">Log exercise</h3>
      <form id="log-form">
        <label>
          Sets
          <input type="number" id="log-sets" min="1" max="20" required>
        </label>
        <label>
          Reps per set
          <input type="number" id="log-reps" min="1" max="200" required>
        </label>
        <div class="modal-actions">
          <button type="button" class="ghost-btn" id="cancel-log">Cancel</button>
          <button type="submit" class="primary-btn">Add to today</button>
        </div>
      </form>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
